environment:
  global:
    VisualStudio: '"C:\Program Files (x86)\Microsoft Visual Studio 14.0\VC"'
    freetype_version: "2-10-1"
  matrix:
  - configuration: release
  - configuration: debug
  
platform:
  - x86
  - amd64

init:
  - '%VisualStudio%\vcvarsall.bat %platform%'

install:
  # Get libpng source from GIT
  - appveyor DownloadFile http://git.savannah.gnu.org/cgit/freetype/freetype2.git/snapshot/freetype2-VER-%freetype_version%.tar.gz
  - 7z x freetype2-VER-%freetype_version%.tar.gz
  - 7z x -ofreetype freetype2-VER-%freetype_version%.tar
  - mkdir zlib
  - cd zlib
  - appveyor DownloadFile "http://www.samsonov.net/wp/assets/Dist_zlib/%platform%-release/zlib.7z"
  - 7z e zlib.7z
  - cd ..
  
build_script:
  - cmake  -E chdir freetype cmake -G "NMake Makefiles" ..
  - cmake --build freetype  
  
test: off

#artifacts:
   # path: zlib\zlib.lib
   # path: zlib\zlib1.dll
   # path: zlib\zdll.lib
   # path: zlib\zlib.h

